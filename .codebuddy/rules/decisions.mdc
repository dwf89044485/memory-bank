### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---
description: 完整设计决策记录。当讨论设计方案选择、决策调整、历史决策依据，或核心文件中的决策信息不足以支撑判断时读取此规则。
alwaysApply: false
### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---

# Memory-Bank 设计决策记录

> 记录设计过程中的关键决策，包含问题背景、决策内容和演变过程。

### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---

## 快速索引

| # | 决策 | 核心要点 | 类别 |
|### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---|### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---|### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

----|### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---|
| 1 | 信息收集策略 | 3 选项分支，不强制回答 | 交互 |
| 2 | 推导粒度控制 | 推导到职业/功能级别，不推导细节 | 策略 |
| 3 | 两阶段后缀 | .md 预览 → .mdc 固化 | 流程 |
| 4 | 可点击选项 | `<generate_clickable_options>` | 交互 |
| 5 | 分层 References | 主流程 + 按需加载详细指南 | 架构 |
| 6 | 多源信息收集 | 项目文件 + 对话历史 | 策略 |
| 7 | 文件链接格式 | 反引号包裹相对路径 | 规范 |
| 8 | 扩展文件自动生成 | 检测到内容自动生成，无需询问 | 流程 |
| 9 | 严格访谈模板 | 只问 3 题，50 字以内 | 交互 |
| 10 | 强制等待用户选择 | `<critical>` + `<wait_for_user_selection>` | 约束 |
| 11 | 检索路径过滤 | 排除 .codebuddy/、node_modules 等 | 策略 |
| 12 | 扩展文件检测标准 | 3+ 条决策 → decisions.mdc | 规范 |
| 13 | 时间精度 | `date +"%Y-%m-%d %H:%M"` | 规范 |
| 14 | 可点击选项强制约束 | 必须用标签，不能用文本列表 | 约束 |

### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---

## 决策详情

### 1. 信息收集策略

**问题**：用户初始化时，项目可能有文档也可能为空，如何平衡"获取足够信息"和"减少用户负担"？

**决策**：
- 必要信息齐全 → 直接生成
- 必要信息不齐全 → 提供 3 个选项：
  1. 放入资料让 AI 读取
  2. 通过对话快速创建
  3. 直接创建，缺失标注 `[待补充]`

**依据**：减少交互摩擦，灵活适配不同场景

### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---

### 2. 推导粒度控制

**问题**：从有限信息推导上下文时，推导多细才合适？

**决策**：
- ✅ 推导到：职业类型、功能级别
- ❌ 不推导：子功能、界面细节、技术架构

**依据**：过度推导容易猜错，职业/功能级别足以支撑协作

**替代方案**：
- 推导到界面级别 → 未采用：偏差太大
- 不做推导 → 未采用：信息量不足

### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---

### 3. 两阶段后缀策略

**问题**：记忆库内容影响所有后续协作，如何确保准确性？

**决策**：
1. 生成 `.md` 预览 → 用户审阅
2. 确认后重命名 `.mdc` → 正式生效

**依据**：推导可能有误，必须让用户确认后再固化

### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---

### 4. 可点击选项

**问题**：用户选择分支时手动输入增加摩擦

**决策**：使用 `ask_followup_question` 工具生成可点击按钮

**依据**：点击比打字更快，避免输入歧义（"好"/"确认"/"OK"）

**技术方案**：
```javascript
ask_followup_question({
  question: "请选择初始化方式：",
  options: "[\"选项1\", \"选项2\", \"选项3\"]"
});
```

### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---

### 5. 分层 References

**问题**：SKILL.md 包含所有逻辑会导致上下文占用过大

**决策**：
- `SKILL.md`：精简为流程框架
- `references/`：存放详细指南，按需加载
  - `interview-guide.md`：访谈模板
  - `reasoning-guide.md`：推导逻辑
  - `*-template.mdc`：输出模板

**依据**：按需加载减少上下文占用，职责分离易于维护

### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---

### 6. 多源信息收集

**问题**：只检索项目文件会遗漏对话中提到的信息

**决策**：同时检索两个来源：
1. 项目文件夹文档
2. 当前对话历史

**依据**：不遗漏有效信息，减少重复询问

### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---

### 7. 文件链接格式 ⚡

**时间**：2026-01-08 19:00

**问题**：生成的文件链接在 IDE 对话框中无法点击

**测试过程**：
| 格式 | 结果 |
|### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---|### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---|
| 纯文本路径 | ❌ 不可点击 |
| 带括号纯文本 | ❌ 不可点击 |
| 反引号 + 相对路径 | ✅ 可点击 |
| 反引号 + 纯文件名 | ✅ 可点击 |

**决策**：使用 `` `.codebuddy/rules/brief.md` `` 格式

**依据**：IDE 能识别，相对路径比纯文件名更明确

### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---

### 8. 扩展文件自动生成

**问题**：决策较多时应独立为扩展文件，但每次询问增加负担

**决策**：检测到决策/设计资产时自动生成，无需询问

**依据**：AI 应自动处理能确定的事情，减少决策负担

### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---

### 9. 严格访谈模板 ⚡

**时间**：2026-01-08 19:05

**问题**：interview-guide.md 只有原则性指导，模型自由发挥导致：
- 问了 5 个问题（超出必要的 3 个）
- 添加冗长引导语
- 询问可选信息

**根因**：缺少强制性模板和约束

**决策**：提供强制性回复模板
- 只问 3 个必要问题
- 禁止询问可选信息
- 总字数 ≤ 50 字

**洞察**：`减少模型自由度 = 提升行为可预测性`

### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---

### 10. 强制等待用户选择 ⚡

**时间**：2026-01-08 19:10

**问题**：模型跳过用户选择，自作主张执行分支

**现象**：
- 应该展示 3 选项让用户选
- 模型自己选了"选项 3"
- 跳过了用户交互

**根因**：SKILL.md 是声明式描述，没有强制约束

**决策**：添加强制性标签
```xml
<critical>必须停下来等待用户选择</critical>
<wait_for_user_selection>不要继续执行</wait_for_user_selection>
```

**洞察**：`AI 会"善意地"帮用户做决定，必须明确禁止`

### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---

### 11. 检索路径过滤 ⚡

**时间**：2026-01-08 19:15

**问题**：检索时混入系统元信息，污染用户 brief

**现象**：把 `.codebuddy/skills` 中的技能定义当作"项目文档"

**决策**：排除以下目录：
- `.codebuddy/`（技能/代理/规则）
- `node_modules`
- `.git`

**依据**：只检索用户的实际项目文档

### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---

### 12. 扩展文件检测标准 ⚡

**时间**：2026-01-08 19:20

**问题**：自动生成逻辑过于模糊，模型不知道何时执行

**决策**：明确触发条件
- `decisions.mdc`：brief 中有 **3+ 条**决策记录
- `assets.mdc`：检测到 Figma 链接/设计系统/组件库
- 扩展文件直接生成 `.mdc`，无需二次确认

**洞察**：`AI 需要明确的触发条件，不能依赖模糊判断`

### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---

### 13. 时间精度

**时间**：2026-01-08 19:22

**问题**：时间只到月份，无法追溯具体决策时间

**决策**：
- 执行 `date +"%Y-%m-%d %H:%M"` 获取时间
- 格式：`YYYY-MM-DD HH:mm`（精确到分钟）
- 在 `reasoning-guide.md` 中固化此规范

**依据**：支持决策演变追踪

### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---

## 决策演变

| 时间 | 原决策 | 调整后 | 原因 |
|------|--------|--------|------|
| 19:20 | 扩展文件需 .md→.mdc 二次确认 | 直接生成 .mdc | 减少交互步骤 |
| 19:22 | 时间精度到月份 | 精确到分钟 | 支持演变追踪 |
| 20:06 | 可点击选项缺少强制约束 | 添加 critical 标签和指导文件 | 确保 XML 标签严格执行 |
| 20:12 | 使用 XML 标签生成选项 | 使用 ask_followup_question 工具 | 遵循官方技术文档 |

---

## 关键洞察

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---|### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

-----|### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

-----|### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---|
| 19:20 | 扩展文件需 .md→.mdc 二次确认 | 直接生成 .mdc | 减少交互步骤 |
| 19:22 | 时间精度到月份 | 精确到分钟 | 支持演变追踪 |

### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---

## 关键洞察

从开发过程中提炼的设计原则：

### 声明式 vs 强制性
> 仅描述"应该做什么"不够，必须添加 `<critical>` 等强制指令

### 模糊 vs 明确
> "检查是否有决策记录" → "3+ 条决策记录"
> AI 需要明确的触发条件

### 原则 vs 模板
> 仅提供原则性指导，模型会自由发挥
> 必须提供强制性回复模板

### 集中 vs 分散
> 核心文件（brief）+ 扩展文件（decisions、assets）
> 分层存储：核心简洁 + 信息完整

### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---

## 待决策事项

- [ ] Windows 平台时间命令兼容性（`date` vs PowerShell）
- [ ] 是否添加 MCP time 工具作为替代方案

### 14. 可点击选项强制约束 ⚡

**时间**：2026-01-08 20:06

**问题**：技能运行时没有生成可点击选项，而是用了普通文本描述

**现象**：
- 应该显示可点击按钮，实际显示为普通文本列表
- AI 在选项后添加了"请点击选择您希望的初始化方式"等额外文字
- 没有严格按照 `<generate_clickable_options>` 标签执行

**根因**：
1. 缺少 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
2. AI 没有严格遵循 XML 标签，而是用自然语言替代
3. 缺少强制性约束确保标签使用

**决策**：
- 重新创建 `CLICKABLE_OPTIONS_GUIDE.md` 指导文件
- 在所有可点击选项处添加 `<critical>必须使用 generate_clickable_options 标签</critical>`
- 在技能顶部添加执行约束说明
- 明确禁止在选项后添加额外提示文字

**洞察**：`XML 标签不是建议，是必须严格执行的指令`

### 15. 可点击选项技术方案修正 ⚡

**时间**：2026-01-08 20:12

**问题**：发现使用了错误的可点击选项技术方案

**现象**：
- 使用了 `<generate_clickable_options>` XML 标签
- 实际应该使用 `ask_followup_question` 工具
- 技术方案与官方文档不符

**根因**：
1. 没有查阅正确的技术文档
2. 误用了 XML 标签而非工具调用
3. JSON 格式要求理解错误

**决策**：
- 将所有 `<generate_clickable_options>` 改为 `ask_followup_question` 工具调用
- options 参数必须是 JSON 字符串数组格式
- 更新所有相关文件：SKILL.md、reasoning-guide.md、CLICKABLE_OPTIONS_GUIDE.md
- 修正决策 #4 的技术方案描述

**洞察**：`技术实现必须严格遵循官方文档，不能凭经验猜测`

---

*最后更新：2026-01-08*
